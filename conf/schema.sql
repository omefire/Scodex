
create table user (
        username varchar(64) not null primary key,
        password varchar(128) not null,
        email varchar(128),
        phone_number varchar(64));

create table stock (
        symbol varchar(5) not null primary key,
        name varchar(128) not null);

create table stock_price (
        date date not null,
        symbol varchar(5) not null,
        price decimal not null,
        currency varchar(3) not null default 'USD',
        foreign key (symbol) references stock(symbol),
        primary key (date, symbol));

create table exchange_rate (
        date date not null,
        from_currency varchar(3) not null,
        to_currency varchar(3) not null,
        rate decimal not null,
        primary key (date, from_currency, to_currency));

/* Insert test : test */
insert into user (username, password, email) values ('test', '$2a$10$WHm3kQwirE.JzCWeIF2JxuYQqkZmqSaX3Ho38BEquI1z9iPuJQHqq', 'test@test.com');

insert into stock_price (date, symbol, price, currency) values
    ('1-Aug-11', 'ABC', 10.00, 'USD'),
    ('2-Aug-11', 'ABC', 10.50, 'USD'),
    ('3-Aug-11', 'ABC', 11.00, 'USD'),
    ('4-Aug-11', 'ABC', 11.50, 'USD'),
    ('5-Aug-11', 'ABC', 12.00, 'USD'),
    ('6-Aug-11', 'ABC', 12.50, 'USD'),
    ('7-Aug-11', 'ABC', 13.00, 'USD'),
    ('8-Aug-11', 'ABC', 13.50, 'USD'),
    ('9-Aug-11', 'ABC', 14.00, 'USD'),
    ('10-Aug-11', 'ABC', 14.50, 'USD'),
    ('11-Aug-11', 'ABC', 15.00, 'USD'),
    ('12-Aug-11', 'ABC', 15.50, 'USD'),
    ('13-Aug-11', 'ABC', 16.00, 'USD'),
    ('14-Aug-11', 'ABC', 16.50, 'USD'),
    ('15-Aug-11', 'ABC', 17.00, 'USD'),
    ('16-Aug-11', 'ABC', 17.50, 'USD'),
    ('17-Aug-11', 'ABC', 18.00, 'USD'),
    ('18-Aug-11', 'ABC', 18.50, 'USD'),
    ('19-Aug-11', 'ABC', 19.00, 'USD'),
    ('20-Aug-11', 'ABC', 19.50, 'USD'),
    ('21-Aug-11', 'ABC', 20.00, 'USD'),
    ('22-Aug-11', 'ABC', 20.50, 'USD'),
    ('23-Aug-11', 'ABC', 21.00, 'USD'),
    ('24-Aug-11', 'ABC', 21.50, 'USD'),
    ('25-Aug-11', 'ABC', 22.00, 'USD'),
    ('26-Aug-11', 'ABC', 22.50, 'USD'),
    ('27-Aug-11', 'ABC', 23.00, 'USD'),
    ('28-Aug-11', 'ABC', 23.50, 'USD'),
    ('29-Aug-11', 'ABC', 24.00, 'USD'),
    ('30-Aug-11', 'ABC', 24.50, 'USD'),
    ('31-Aug-11', 'ABC', 25.00, 'USD'),
    ('1-Aug-11', 'DEF', 100.00, 'GBP'),
    ('2-Aug-11', 'DEF', 99.00, 'GBP'),
    ('3-Aug-11', 'DEF', 98.00, 'GBP'),
    ('4-Aug-11', 'DEF', 97.00, 'GBP'),
    ('5-Aug-11', 'DEF', 96.00, 'GBP'),
    ('6-Aug-11', 'DEF', 95.00, 'GBP'),
    ('7-Aug-11', 'DEF', 94.00, 'GBP'),
    ('8-Aug-11', 'DEF', 93.00, 'GBP'),
    ('9-Aug-11', 'DEF', 92.00, 'GBP'),
    ('10-Aug-11', 'DEF', 91.00, 'GBP'),
    ('11-Aug-11', 'DEF', 90.00, 'GBP'),
    ('12-Aug-11', 'DEF', 89.00, 'GBP'),
    ('13-Aug-11', 'DEF', 88.00, 'GBP'),
    ('14-Aug-11', 'DEF', 87.00, 'GBP'),
    ('15-Aug-11', 'DEF', 86.00, 'GBP'),
    ('16-Aug-11', 'DEF', 85.00, 'GBP'),
    ('17-Aug-11', 'DEF', 84.00, 'GBP'),
    ('18-Aug-11', 'DEF', 83.00, 'GBP'),
    ('19-Aug-11', 'DEF', 82.00, 'GBP'),
    ('20-Aug-11', 'DEF', 81.00, 'GBP'),
    ('21-Aug-11', 'DEF', 80.00, 'GBP'),
    ('22-Aug-11', 'DEF', 79.00, 'GBP'),
    ('23-Aug-11', 'DEF', 78.00, 'GBP'),
    ('24-Aug-11', 'DEF', 77.00, 'GBP'),
    ('25-Aug-11', 'DEF', 76.00, 'GBP'),
    ('26-Aug-11', 'DEF', 75.00, 'GBP'),
    ('27-Aug-11', 'DEF', 74.00, 'GBP'),
    ('28-Aug-11', 'DEF', 73.00, 'GBP'),
    ('29-Aug-11', 'DEF', 72.00, 'GBP'),
    ('30-Aug-11', 'DEF', 71.00, 'GBP'),
    ('31-Aug-11', 'DEF', 70.00, 'GBP'),
    ('1-Aug-11', 'XYZ', 50.00, 'EUR'),
    ('2-Aug-11', 'XYZ', 52.00, 'EUR'),
    ('3-Aug-11', 'XYZ', 54.00, 'EUR'),
    ('4-Aug-11', 'XYZ', 56.00, 'EUR'),
    ('5-Aug-11', 'XYZ', 58.00, 'EUR'),
    ('6-Aug-11', 'XYZ', 60.00, 'EUR'),
    ('7-Aug-11', 'XYZ', 62.00, 'EUR'),
    ('8-Aug-11', 'XYZ', 64.00, 'EUR'),
    ('9-Aug-11', 'XYZ', 66.00, 'EUR'),
    ('10-Aug-11', 'XYZ', 68.00, 'EUR'),
    ('11-Aug-11', 'XYZ', 70.00, 'EUR'),
    ('12-Aug-11', 'XYZ', 72.00, 'EUR'),
    ('13-Aug-11', 'XYZ', 74.00, 'EUR'),
    ('14-Aug-11', 'XYZ', 76.00, 'EUR'),
    ('15-Aug-11', 'XYZ', 78.00, 'EUR'),
    ('16-Aug-11', 'XYZ', 80.00, 'EUR'),
    ('17-Aug-11', 'XYZ', 82.00, 'EUR'),
    ('18-Aug-11', 'XYZ', 84.00, 'EUR'),
    ('19-Aug-11', 'XYZ', 86.00, 'EUR'),
    ('20-Aug-11', 'XYZ', 88.00, 'EUR'),
    ('21-Aug-11', 'XYZ', 90.00, 'EUR'),
    ('22-Aug-11', 'XYZ', 92.00, 'EUR'),
    ('23-Aug-11', 'XYZ', 94.00, 'EUR'),
    ('24-Aug-11', 'XYZ', 96.00, 'EUR'),
    ('25-Aug-11', 'XYZ', 98.00, 'EUR'),
    ('26-Aug-11', 'XYZ', 100.00, 'EUR'),
    ('27-Aug-11', 'XYZ', 102.00, 'EUR'),
    ('28-Aug-11', 'XYZ', 104.00, 'EUR'),
    ('29-Aug-11', 'XYZ', 106.00, 'EUR'),
    ('30-Aug-11', 'XYZ', 108.00, 'EUR'),
    ('31-Aug-11', 'XYZ', 110.00, 'EUR');


insert into exchange_rate (date, from_currency, to_currency, rate) values
    ('1-Aug-11', 'USD', 'GBP', 1.5400000000),
    ('1-Aug-11', 'USD', 'EUR', 1.1200000000),
    ('2-Aug-11', 'USD', 'GBP', 1.5463997120),
    ('2-Aug-11', 'USD', 'EUR', 1.1287698791),
    ('3-Aug-11', 'USD', 'GBP', 1.5470248143),
    ('3-Aug-11', 'USD', 'EUR', 1.1387503547),
    ('4-Aug-11', 'USD', 'GBP', 1.5516827259),
    ('4-Aug-11', 'USD', 'EUR', 1.1359123722),
    ('5-Aug-11', 'USD', 'GBP', 1.5610380857),
    ('5-Aug-11', 'USD', 'EUR', 1.1363179123),
    ('6-Aug-11', 'USD', 'GBP', 1.5581210854),
    ('6-Aug-11', 'USD', 'EUR', 1.1455999822),
    ('7-Aug-11', 'USD', 'GBP', 1.5495757755),
    ('7-Aug-11', 'USD', 'EUR', 1.1424335190),
    ('8-Aug-11', 'USD', 'GBP', 1.5535255964),
    ('8-Aug-11', 'USD', 'EUR', 1.1472158785),
    ('9-Aug-11', 'USD', 'GBP', 1.5467812473),
    ('9-Aug-11', 'USD', 'EUR', 1.1553735571),
    ('10-Aug-11', 'USD', 'GBP', 1.5440015524),
    ('10-Aug-11', 'USD', 'EUR', 1.1456233039),
    ('11-Aug-11', 'USD', 'GBP', 1.5458187013),
    ('11-Aug-11', 'USD', 'EUR', 1.1459473702),
    ('12-Aug-11', 'USD', 'GBP', 1.5536279818),
    ('12-Aug-11', 'USD', 'EUR', 1.1443143692),
    ('13-Aug-11', 'USD', 'GBP', 1.5469779296),
    ('13-Aug-11', 'USD', 'EUR', 1.1517040870),
    ('14-Aug-11', 'USD', 'GBP', 1.5474466449),
    ('14-Aug-11', 'USD', 'EUR', 1.1553728836),
    ('15-Aug-11', 'USD', 'GBP', 1.5521896956),
    ('15-Aug-11', 'USD', 'EUR', 1.1505956569),
    ('16-Aug-11', 'USD', 'GBP', 1.5534670218),
    ('16-Aug-11', 'USD', 'EUR', 1.1440663378),
    ('17-Aug-11', 'USD', 'GBP', 1.5513400830),
    ('17-Aug-11', 'USD', 'EUR', 1.1364314513),
    ('18-Aug-11', 'USD', 'GBP', 1.5562314093),
    ('18-Aug-11', 'USD', 'EUR', 1.1441320988),
    ('19-Aug-11', 'USD', 'GBP', 1.5636285831),
    ('19-Aug-11', 'USD', 'EUR', 1.1498181954),
    ('20-Aug-11', 'USD', 'GBP', 1.5717421761),
    ('20-Aug-11', 'USD', 'EUR', 1.1594581012),
    ('21-Aug-11', 'USD', 'GBP', 1.5738983204),
    ('21-Aug-11', 'USD', 'EUR', 1.1684074259),
    ('22-Aug-11', 'USD', 'GBP', 1.5771021606),
    ('22-Aug-11', 'USD', 'EUR', 1.1714972148),
    ('23-Aug-11', 'USD', 'GBP', 1.5715900808),
    ('23-Aug-11', 'USD', 'EUR', 1.1620573898),
    ('24-Aug-11', 'USD', 'GBP', 1.5760880733),
    ('24-Aug-11', 'USD', 'EUR', 1.1689603307),
    ('25-Aug-11', 'USD', 'GBP', 1.5748517909),
    ('25-Aug-11', 'USD', 'EUR', 1.1688384830),
    ('26-Aug-11', 'USD', 'GBP', 1.5665591231),
    ('26-Aug-11', 'USD', 'EUR', 1.1599338641),
    ('27-Aug-11', 'USD', 'GBP', 1.5589148119),
    ('27-Aug-11', 'USD', 'EUR', 1.1542613768),
    ('28-Aug-11', 'USD', 'GBP', 1.5563388376),
    ('28-Aug-11', 'USD', 'EUR', 1.1577144866),
    ('29-Aug-11', 'USD', 'GBP', 1.5505725643),
    ('29-Aug-11', 'USD', 'EUR', 1.1520739268),
    ('30-Aug-11', 'USD', 'GBP', 1.5476151652),
    ('30-Aug-11', 'USD', 'EUR', 1.1428654130),
    ('31-Aug-11', 'USD', 'GBP', 1.5545829229),
    ('31-Aug-11', 'USD', 'EUR', 1.1522897389);
